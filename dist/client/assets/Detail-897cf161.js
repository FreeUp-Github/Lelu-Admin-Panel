var u=Object.defineProperty;var h=(n,t,s)=>t in n?u(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var d=(n,t,s)=>(h(n,typeof t!="symbol"?t+"":t,s),s);import{r as a,j as e,a as m,u as p,A as x,b as j}from"./index-52ff918f.js";import{u as f}from"./useQuery-45c5adc9.js";class v extends a.Component{constructor(){super(...arguments);d(this,"state",{active:0})}render(){const s=this.props.images,r=this.state.active;return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:s[r],width:"200px",height:"200px",alt:"active"})}),s.map((c,o)=>e.jsxs("div",{onClick:()=>this.setState({active:o}),role:"img",children:[e.jsx("div",{children:o===r?"active":""}),e.jsx("img",{src:c,alt:"thumbnail",width:"50px",height:"50px"})]},c))]})}}async function g({queryKey:n}){const t=n[1],s=await fetch("http://pets-v2.dev-apis.com/pets?id="+t);if(!s.ok)throw new Error("fetch detail with id: "+t+" is not ok");return s.json()}function C({children:n}){const t=a.useRef(null);return t.current===null&&(t.current=document.createElement("div"),t.current.classList.add("modal")),a.useEffect(()=>{const s=document.getElementById("modals");return s.appendChild(t.current),()=>s.removeChild(t.current)},[]),m.createPortal(n,t.current)}function w(){const{id:n}=p(),t=f(["detail",n],g),[s,r]=a.useState(!1),[c,o]=a.useContext(x),l=j();if(t.isLoading)return e.jsx("h1",{children:"it is loading ⚽️"});const i=t.data.pets[0];return e.jsxs("div",{children:[e.jsx(v,{images:i.images}),e.jsxs("button",{onClick:()=>r(!0),children:["name: ",i.name]}),e.jsxs("h2",{children:[i.animal," - ",i.breed," - ",i.city," - ",i.state]}),e.jsx("p",{children:i.description}),s?e.jsxs(C,{children:[e.jsxs("p",{children:["do you adopt ",i.name,"?"]}),e.jsx("button",{onClick:()=>{o(i),l("/")},children:"yes"}),e.jsx("button",{onClick:()=>r(!1),children:"no"})]}):null]})}function k(){return e.jsx(w,{})}export{k as Detail,k as DetailErrorBoundary,k as default};
